{"ast":null,"code":"\"use strict\";\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Configuration = void 0;\n\nvar iso8601_duration_1 = require(\"iso8601-duration\");\n\nvar TYPING_TIMEOUT = 5;\nvar HTTP_CACHE_LIFETIME = 'PT5S';\nvar CONSUMPTION_HORIZON_SENDING_INTERVAL = 'PT5S';\nvar USER_INFOS_TO_SUBSCRIBE = 100;\nvar MINIMUM_RETRY_DELAY = 1000;\nvar MAXIMUM_RETRY_DELAY = 4000;\nvar MAXIMUM_ATTEMPTS_COUNT = 3;\nvar RETRY_WHEN_THROTTLED = true;\n\nvar Configuration = function Configuration() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var configurationResponse = arguments[1];\n  var logger = arguments[2];\n  (0, _classCallCheck3.default)(this, Configuration);\n  this.typingIndicatorTimeoutDefault = TYPING_TIMEOUT * 1000;\n  var constructorOptions = options.Chat || options.IPMessaging || options || {};\n  this.productId = constructorOptions.productId;\n  this.links = {\n    myConversations: configurationResponse.links.my_conversations,\n    conversations: configurationResponse.links.conversations,\n    users: configurationResponse.links.users,\n    currentUser: configurationResponse.links.current_user,\n    typing: configurationResponse.links.typing,\n    mediaService: configurationResponse.links.media_service,\n    messagesReceipts: configurationResponse.links.messages_receipts\n  };\n  this.typingIndicatorTimeoutOverride = constructorOptions.typingIndicatorTimeoutOverride;\n  this.backoffConfiguration = (0, _assign2.default)({\n    min: MINIMUM_RETRY_DELAY,\n    max: MAXIMUM_RETRY_DELAY,\n    maxAttemptsCount: MAXIMUM_ATTEMPTS_COUNT\n  }, constructorOptions.backoffConfigOverride);\n  this.retryWhenThrottled = constructorOptions.retryWhenThrottledOverride !== undefined ? constructorOptions.retryWhenThrottledOverride : RETRY_WHEN_THROTTLED;\n  this.userInfosToSubscribe = constructorOptions.userInfosToSubscribeOverride || configurationResponse.options.user_infos_to_subscribe || USER_INFOS_TO_SUBSCRIBE;\n  this.reachabilityEnabled = configurationResponse.options.reachability_enabled;\n  this.userIdentity = configurationResponse.identity;\n  this.userInfo = configurationResponse.sync_objects.my_user_info;\n  this.myConversations = configurationResponse.sync_objects.my_conversations;\n  var httpCacheInterval = constructorOptions.httpCacheIntervalOverride || configurationResponse.options.http_cache_interval || HTTP_CACHE_LIFETIME;\n\n  try {\n    this.httpCacheInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(httpCacheInterval));\n  } catch (_a) {\n    logger.error(\"Failed to parse http cache interval \" + httpCacheInterval + \", using default value \" + HTTP_CACHE_LIFETIME);\n    this.httpCacheInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(HTTP_CACHE_LIFETIME));\n  }\n\n  var consumptionReportInterval = constructorOptions.consumptionReportIntervalOverride || configurationResponse.options.consumption_report_interval || CONSUMPTION_HORIZON_SENDING_INTERVAL;\n\n  try {\n    this.consumptionReportInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(consumptionReportInterval));\n  } catch (_b) {\n    logger.error(\"Failed to parse consumption report interval \" + consumptionReportInterval + \", using default value \" + CONSUMPTION_HORIZON_SENDING_INTERVAL);\n    this.consumptionReportInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(CONSUMPTION_HORIZON_SENDING_INTERVAL));\n  }\n};\n\nexports.Configuration = Configuration;","map":{"version":3,"sources":["/Users/shouryagupta/Desktop/MS Engage 21/MSEngage21_VC/node_modules/twilio-chat/browser/configuration.js"],"names":["_assign","require","_assign2","_interopRequireDefault","_classCallCheck2","_classCallCheck3","obj","__esModule","default","Object","defineProperty","exports","value","Configuration","iso8601_duration_1","TYPING_TIMEOUT","HTTP_CACHE_LIFETIME","CONSUMPTION_HORIZON_SENDING_INTERVAL","USER_INFOS_TO_SUBSCRIBE","MINIMUM_RETRY_DELAY","MAXIMUM_RETRY_DELAY","MAXIMUM_ATTEMPTS_COUNT","RETRY_WHEN_THROTTLED","options","arguments","length","undefined","configurationResponse","logger","typingIndicatorTimeoutDefault","constructorOptions","Chat","IPMessaging","productId","links","myConversations","my_conversations","conversations","users","currentUser","current_user","typing","mediaService","media_service","messagesReceipts","messages_receipts","typingIndicatorTimeoutOverride","backoffConfiguration","min","max","maxAttemptsCount","backoffConfigOverride","retryWhenThrottled","retryWhenThrottledOverride","userInfosToSubscribe","userInfosToSubscribeOverride","user_infos_to_subscribe","reachabilityEnabled","reachability_enabled","userIdentity","identity","userInfo","sync_objects","my_user_info","httpCacheInterval","httpCacheIntervalOverride","http_cache_interval","toSeconds","parse","_a","error","consumptionReportInterval","consumptionReportIntervalOverride","consumption_report_interval","_b"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,qCAAD,CAArB;;AAEA,IAAIC,QAAQ,GAAGC,sBAAsB,CAACH,OAAD,CAArC;;AAEA,IAAII,gBAAgB,GAAGH,OAAO,CAAC,sCAAD,CAA9B;;AAEA,IAAII,gBAAgB,GAAGF,sBAAsB,CAACC,gBAAD,CAA7C;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/FG,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,aAAR,GAAwB,KAAK,CAA7B;;AACA,IAAIC,kBAAkB,GAAGb,OAAO,CAAC,kBAAD,CAAhC;;AACA,IAAIc,cAAc,GAAG,CAArB;AACA,IAAIC,mBAAmB,GAAG,MAA1B;AACA,IAAIC,oCAAoC,GAAG,MAA3C;AACA,IAAIC,uBAAuB,GAAG,GAA9B;AACA,IAAIC,mBAAmB,GAAG,IAA1B;AACA,IAAIC,mBAAmB,GAAG,IAA1B;AACA,IAAIC,sBAAsB,GAAG,CAA7B;AACA,IAAIC,oBAAoB,GAAG,IAA3B;;AAEA,IAAIT,aAAa,GAAG,SAASA,aAAT,GAAyB;AACzC,MAAIU,OAAO,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,MAAIG,qBAAqB,GAAGH,SAAS,CAAC,CAAD,CAArC;AACA,MAAII,MAAM,GAAGJ,SAAS,CAAC,CAAD,CAAtB;AACA,GAAC,GAAGnB,gBAAgB,CAACG,OAArB,EAA8B,IAA9B,EAAoCK,aAApC;AAEA,OAAKgB,6BAAL,GAAqCd,cAAc,GAAG,IAAtD;AACA,MAAIe,kBAAkB,GAAGP,OAAO,CAACQ,IAAR,IAAgBR,OAAO,CAACS,WAAxB,IAAuCT,OAAvC,IAAkD,EAA3E;AACA,OAAKU,SAAL,GAAiBH,kBAAkB,CAACG,SAApC;AACA,OAAKC,KAAL,GAAa;AACTC,IAAAA,eAAe,EAAER,qBAAqB,CAACO,KAAtB,CAA4BE,gBADpC;AAETC,IAAAA,aAAa,EAAEV,qBAAqB,CAACO,KAAtB,CAA4BG,aAFlC;AAGTC,IAAAA,KAAK,EAAEX,qBAAqB,CAACO,KAAtB,CAA4BI,KAH1B;AAITC,IAAAA,WAAW,EAAEZ,qBAAqB,CAACO,KAAtB,CAA4BM,YAJhC;AAKTC,IAAAA,MAAM,EAAEd,qBAAqB,CAACO,KAAtB,CAA4BO,MAL3B;AAMTC,IAAAA,YAAY,EAAEf,qBAAqB,CAACO,KAAtB,CAA4BS,aANjC;AAOTC,IAAAA,gBAAgB,EAAEjB,qBAAqB,CAACO,KAAtB,CAA4BW;AAPrC,GAAb;AASA,OAAKC,8BAAL,GAAsChB,kBAAkB,CAACgB,8BAAzD;AACA,OAAKC,oBAAL,GAA4B,CAAC,GAAG7C,QAAQ,CAACM,OAAb,EAAsB;AAAEwC,IAAAA,GAAG,EAAE7B,mBAAP;AAA4B8B,IAAAA,GAAG,EAAE7B,mBAAjC;AAAsD8B,IAAAA,gBAAgB,EAAE7B;AAAxE,GAAtB,EAAwHS,kBAAkB,CAACqB,qBAA3I,CAA5B;AACA,OAAKC,kBAAL,GAA0BtB,kBAAkB,CAACuB,0BAAnB,KAAkD3B,SAAlD,GAA8DI,kBAAkB,CAACuB,0BAAjF,GAA8G/B,oBAAxI;AACA,OAAKgC,oBAAL,GAA4BxB,kBAAkB,CAACyB,4BAAnB,IAAmD5B,qBAAqB,CAACJ,OAAtB,CAA8BiC,uBAAjF,IAA4GtC,uBAAxI;AACA,OAAKuC,mBAAL,GAA2B9B,qBAAqB,CAACJ,OAAtB,CAA8BmC,oBAAzD;AACA,OAAKC,YAAL,GAAoBhC,qBAAqB,CAACiC,QAA1C;AACA,OAAKC,QAAL,GAAgBlC,qBAAqB,CAACmC,YAAtB,CAAmCC,YAAnD;AACA,OAAK5B,eAAL,GAAuBR,qBAAqB,CAACmC,YAAtB,CAAmC1B,gBAA1D;AACA,MAAI4B,iBAAiB,GAAGlC,kBAAkB,CAACmC,yBAAnB,IAAgDtC,qBAAqB,CAACJ,OAAtB,CAA8B2C,mBAA9E,IAAqGlD,mBAA7H;;AACA,MAAI;AACA,SAAKgD,iBAAL,GAAyBlD,kBAAkB,CAACqD,SAAnB,CAA6BrD,kBAAkB,CAACsD,KAAnB,CAAyBJ,iBAAzB,CAA7B,CAAzB;AACH,GAFD,CAEE,OAAOK,EAAP,EAAW;AACTzC,IAAAA,MAAM,CAAC0C,KAAP,CAAa,yCAAyCN,iBAAzC,GAA6D,wBAA7D,GAAwFhD,mBAArG;AACA,SAAKgD,iBAAL,GAAyBlD,kBAAkB,CAACqD,SAAnB,CAA6BrD,kBAAkB,CAACsD,KAAnB,CAAyBpD,mBAAzB,CAA7B,CAAzB;AACH;;AACD,MAAIuD,yBAAyB,GAAGzC,kBAAkB,CAAC0C,iCAAnB,IAAwD7C,qBAAqB,CAACJ,OAAtB,CAA8BkD,2BAAtF,IAAqHxD,oCAArJ;;AACA,MAAI;AACA,SAAKsD,yBAAL,GAAiCzD,kBAAkB,CAACqD,SAAnB,CAA6BrD,kBAAkB,CAACsD,KAAnB,CAAyBG,yBAAzB,CAA7B,CAAjC;AACH,GAFD,CAEE,OAAOG,EAAP,EAAW;AACT9C,IAAAA,MAAM,CAAC0C,KAAP,CAAa,iDAAiDC,yBAAjD,GAA6E,wBAA7E,GAAwGtD,oCAArH;AACA,SAAKsD,yBAAL,GAAiCzD,kBAAkB,CAACqD,SAAnB,CAA6BrD,kBAAkB,CAACsD,KAAnB,CAAyBnD,oCAAzB,CAA7B,CAAjC;AACH;AACJ,CAxCD;;AA0CAN,OAAO,CAACE,aAAR,GAAwBA,aAAxB","sourcesContent":["\"use strict\";\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Configuration = void 0;\nvar iso8601_duration_1 = require(\"iso8601-duration\");\nvar TYPING_TIMEOUT = 5;\nvar HTTP_CACHE_LIFETIME = 'PT5S';\nvar CONSUMPTION_HORIZON_SENDING_INTERVAL = 'PT5S';\nvar USER_INFOS_TO_SUBSCRIBE = 100;\nvar MINIMUM_RETRY_DELAY = 1000;\nvar MAXIMUM_RETRY_DELAY = 4000;\nvar MAXIMUM_ATTEMPTS_COUNT = 3;\nvar RETRY_WHEN_THROTTLED = true;\n\nvar Configuration = function Configuration() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var configurationResponse = arguments[1];\n    var logger = arguments[2];\n    (0, _classCallCheck3.default)(this, Configuration);\n\n    this.typingIndicatorTimeoutDefault = TYPING_TIMEOUT * 1000;\n    var constructorOptions = options.Chat || options.IPMessaging || options || {};\n    this.productId = constructorOptions.productId;\n    this.links = {\n        myConversations: configurationResponse.links.my_conversations,\n        conversations: configurationResponse.links.conversations,\n        users: configurationResponse.links.users,\n        currentUser: configurationResponse.links.current_user,\n        typing: configurationResponse.links.typing,\n        mediaService: configurationResponse.links.media_service,\n        messagesReceipts: configurationResponse.links.messages_receipts\n    };\n    this.typingIndicatorTimeoutOverride = constructorOptions.typingIndicatorTimeoutOverride;\n    this.backoffConfiguration = (0, _assign2.default)({ min: MINIMUM_RETRY_DELAY, max: MAXIMUM_RETRY_DELAY, maxAttemptsCount: MAXIMUM_ATTEMPTS_COUNT }, constructorOptions.backoffConfigOverride);\n    this.retryWhenThrottled = constructorOptions.retryWhenThrottledOverride !== undefined ? constructorOptions.retryWhenThrottledOverride : RETRY_WHEN_THROTTLED;\n    this.userInfosToSubscribe = constructorOptions.userInfosToSubscribeOverride || configurationResponse.options.user_infos_to_subscribe || USER_INFOS_TO_SUBSCRIBE;\n    this.reachabilityEnabled = configurationResponse.options.reachability_enabled;\n    this.userIdentity = configurationResponse.identity;\n    this.userInfo = configurationResponse.sync_objects.my_user_info;\n    this.myConversations = configurationResponse.sync_objects.my_conversations;\n    var httpCacheInterval = constructorOptions.httpCacheIntervalOverride || configurationResponse.options.http_cache_interval || HTTP_CACHE_LIFETIME;\n    try {\n        this.httpCacheInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(httpCacheInterval));\n    } catch (_a) {\n        logger.error(\"Failed to parse http cache interval \" + httpCacheInterval + \", using default value \" + HTTP_CACHE_LIFETIME);\n        this.httpCacheInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(HTTP_CACHE_LIFETIME));\n    }\n    var consumptionReportInterval = constructorOptions.consumptionReportIntervalOverride || configurationResponse.options.consumption_report_interval || CONSUMPTION_HORIZON_SENDING_INTERVAL;\n    try {\n        this.consumptionReportInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(consumptionReportInterval));\n    } catch (_b) {\n        logger.error(\"Failed to parse consumption report interval \" + consumptionReportInterval + \", using default value \" + CONSUMPTION_HORIZON_SENDING_INTERVAL);\n        this.consumptionReportInterval = iso8601_duration_1.toSeconds(iso8601_duration_1.parse(CONSUMPTION_HORIZON_SENDING_INTERVAL));\n    }\n};\n\nexports.Configuration = Configuration;"]},"metadata":{},"sourceType":"script"}